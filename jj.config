[ui]
default-command = "status"
diff-formatter = ["difft", "--color=always", "$left", "$right"]

diff-editor = ":builtin"
merge-editor = "mergiraf"

[revsets]
log = "(trunk()..@):: | (trunk()..@)-"

[revset-aliases]
"closest_bookmark(to)" = "latest(heads(::to & bookmarks()))"
"default()" = "coalesce(trunk(),root())::present(@) | ancestors(visible_heads() & recent(), 5)"
"recent()" = "committer_date(after:'1 month ago')"

[aliases]
tug  = ["bookmark", "move", "--from", "closest_bookmark(@)",  "--to", "@" ]
tug- = ["bookmark", "move", "--from", "closest_bookmark(@-)", "--to", "@-"]
retrunk = ["rebase", "--onto", "trunk()"]
logg = [ "log", "-r", "default() & recent()" ]

track = ["bookmark", "track", "closest_bookmark(@)", "--remote=origin"]
track- = ["bookmark", "track", "closest_bookmark(@-)", "--remote=origin"]
